// @hash v2-AAEBF48A7699E10348118CFF2CBAA899
// Automatically generated by ReactJS.NET. Do not edit, your changes will be overridden.
// Version: 1.5.2 (build 05eb7cc)
// Generated at: 2015-06-02 15:24:31
///////////////////////////////////////////////////////////////////////////////
var MultiGuesser = React.createClass({displayName: "MultiGuesser",
	handleGuess: function(){
		var isCorrect = false; 
		var isMultiAnswer = this.props.answer.indexOf(",") !== -1;
		if(isMultiAnswer){
			var correctAnswers = this.props.answer.split(",").map(function(a){
				return a.toUpperCase().trim();
			});
			var correctGuesses = 0;
			$(".answer-option:checked").each(function(){
				var index = correctAnswers.indexOf($(this).val());
				if(index !== -1){
					correctGuesses++;
				}
				isCorrect = correctAnswers.length === correctGuesses;
			});
		}else{
			isCorrect = $(".answer-option:checked").val() === this.props.answer;
		}
		this.props.onHasAnswered(isCorrect);
	},
	
	render: function(){
		var multiTitle;
		var answerOptions = this.props.options.split(",").map(function(o){
			return o.toUpperCase().trim();
		});
		var isMultiAnswer = this.props.answer.indexOf(",") !== -1;
		if(isMultiAnswer){
			this.props.answer.split(",").map(function(a){
				answerOptions.push(a.toUpperCase().trim());
			});
		}else{
			answerOptions.push(this.props.answer.toUpperCase());
		}		
		answerOptions = answerOptions.sort(function() { return .5 - Math.random(); });
		var answerButtons = answerOptions.map(function(option){
			var content;
			if(isMultiAnswer){
				content = React.createElement("div", {className: "checkbox checkbox-adv"}, 
							React.createElement("label", null, 
								React.createElement("input", {className: "access-hide answer-option", name: "AnswerOption", type: "checkbox", value: option}), option, 
								React.createElement("span", {className: "circle"}), 
								React.createElement("span", {className: "circle-check"}), 
								React.createElement("span", {className: "circle-icon icon icon-done"})
							)
					);				
			}else{
				content = React.createElement("div", {className: "radio radio-adv"}, 
							React.createElement("label", null, 
								React.createElement("input", {className: "access-hide answer-option", name: "AnswerOption", value: option, type: "radio"}), option, 
								React.createElement("span", {className: "circle"}), 
								React.createElement("span", {className: "circle-check"})
							)
						);
			}
			return content;
		}.bind(this));		
		return(
			React.createElement("div", null, 
				React.createElement("div", {className: "form-group"}, 
					answerButtons
				), 
				React.createElement("button", {className: "btn btn-blue", onClick: this.handleGuess}, "Svara")
			)
		);
	}
});