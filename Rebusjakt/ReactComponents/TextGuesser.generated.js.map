{"version":3,"file":null,"sourceRoot":null,"sources":["TextGuesser.jsx.source"],"sourcesContent":["\n\n\n\n\nvar TextGuessingResult = React.createClass({\r\n    render: function(){        \r\n        var styling = {letterSpacing:'5px', fontSize:'1.5em'};\r\n\t\tvar wrongWords, wrongGuessesLeft;\r\n\t\tif(this.props.wrongGuesses.length > 0){\r\n\t\t\twrongGuessesLeft = this.props.maxwrong - this.props.wrongGuesses.length;\r\n\t\t\tvar guessNodes = this.props.wrongGuesses.map(function(word, i){\r\n\t\t\t\treturn(\r\n\t\t\t\t\t\t<div key={i} className=\"tile tile-red\"><div className=\"tile-inner\">{word}</div></div>\r\n\t\t\t\t\t);\r\n\t\t\t});\r\n\t\t\twrongWords = (<div className=\"tile-wrap\">\r\n\t\t\t\t\t\t\t{guessNodes}\r\n\t\t\t\t\t\t\t<div className=\"tile\"><div className=\"tile-inner\">Du kan gissa fel <strong>{wrongGuessesLeft}</strong> ggr till</div></div>\r\n\t\t\t\t\t\t</div>);\r\n\t\t}\r\n        return(\r\n            <div>\r\n                <label style={styling}>{this.props.guessword}</label>\r\n                {wrongWords}\r\n            </div>\r\n            );\r\n    }\r\n});\r\n\r\nvar TextGuessingForm = React.createClass({\r\n    handleSubmit: function(e){\r\n        e.preventDefault();\r\n        var guessNode = this.refs.guess.getDOMNode();\r\n        var guess = guessNode.value.trim();\r\n        this.props.onGuess(guess);\r\n        guessNode.value = '';\r\n    },\r\n\tcomponentDidUpdate: function(){\r\n\t\t$(\".txt-guess\").focus();\r\n\t},\r\n    render: function(){\r\n        return(\r\n            <form onSubmit={this.handleSubmit} className=\"form\">\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12\">\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<label>Skriv in hela ordet/meningen eller gissa på en bokstav/siffra i taget</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"txt-guess form-control form-control-default input-inline\" placeholder=\"Gissning\" ref=\"guess\"  />\r\n\t\t\t\t\t\t\t<input type=\"submit\" className=\"btn btn-blue btn-inline\" value=\"Gissa\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n            </form>\r\n            );\r\n    }\r\n});\r\n\r\nvar TextGuesser = React.createClass({\r\n\tendGuessing : function(isCorrect) {\r\n\t\tthis.props.onHasAnswered(isCorrect);\r\n    },\r\n\thandleGuess: function(guess){\r\n\t\t//check if wrong guess - and check against no. of wrong guesses\r\n        guess = guess.toUpperCase();\r\n        var wrongGuesses = this.state.wrongGuesses;\r\n        var guessWord = this.state.guessword;\r\n        var answer = this.props.answer;\r\n        if(guess.length > 1){\r\n            if(guess === answer){\r\n                this.endGuessing(true);\r\n                return false;\r\n            }else{\r\n\t\t\t\twrongGuesses.push(guess);\r\n            }\r\n        }else{\r\n            var guessWordChars = guessWord.split('');\r\n            var answerChars = answer.split('');\r\n            var hasHit = false;\r\n            for(var i = 0; i < answer.length; i++){\r\n                if(answer[i] === guess){\r\n                    guessWordChars[i] = guess;\r\n                    hasHit = true;\r\n                }                        \r\n            }\r\n            if(!hasHit)\r\n                wrongGuesses.push(guess);\r\n\r\n            guessWord = guessWordChars.join('');\r\n        }\r\n        if(guessWord === answer){\r\n            this.endGuessing(true);\r\n            return false;\r\n        }\r\n        if(wrongGuesses.length >= this.props.maxwrong){\r\n            this.endGuessing(false);\r\n            return false;\r\n        }\r\n        this.setState({wrongGuesses: wrongGuesses, guessword: guessWord });\r\n\t},\r\n\tinitGuessWord : function(answerWord){\r\n        var answer = answerWord.split('');\r\n        var guessWord = '';\r\n        for (var i = 0; i < answer.length; i++) {\r\n            guessWord += answer[i] === ' ' ? \" \" : \"_\";\r\n        }\r\n        return guessWord;\r\n    },\r\n\tcomponentWillReceiveProps : function(nextProps){\r\n        this.setState({ guessword: this.initGuessWord(nextProps.answer), wrongGuesses: [] });\r\n    },\r\n    getInitialState: function() {\r\n        return { guessword: this.initGuessWord(this.props.answer), wrongGuesses: [] };\r\n    },\r\n\trender: function(){\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<TextGuessingResult guessword={this.state.guessword} wrongGuesses={this.state.wrongGuesses} maxwrong={this.props.maxwrong} />\r\n\t\t\t\t<TextGuessingForm onGuess={this.handleGuess} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});"],"names":[],"mappings":"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"}