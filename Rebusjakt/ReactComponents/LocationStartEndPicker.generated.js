// @hash v2-D92FB0EBBD265B82A0D1227DA89AECF2
// Automatically generated by ReactJS.NET. Do not edit, your changes will be overridden.
// Version: 1.5.2 (build 05eb7cc)
// Generated at: 2015-06-02 15:24:31
///////////////////////////////////////////////////////////////////////////////



var LocationPicker = React.createClass({displayName: "LocationPicker",
	handleMapPosition: function(position){
		this.props.latInput.val(position.lat);
		this.props.lngInput.val(position.lng)
    }, 
	handleShowMap: function(){
		this.setState({showMap: true});
	},
	getInitialState: function(){
		var lat = this.props.latInput.val();
		var lng = this.props.lngInput.val();
		return { Latitude : lat, Longitude : lng };
	},
	render:function(){
		var map;
		if(this.state.showMap){
			map = React.createElement(GeocodeMap, {lat: this.state.Latitude, lng: this.state.Longitude, onPickPosition: this.handleMapPosition});          
		}
		return(
			React.createElement("div", {className: "form-group"}, 
				React.createElement("div", {className: "row"}, 
					React.createElement("div", {className: "col-lg-6 col-md-8 col-sm-10"}, 
						React.createElement("a", {className: "btn collapsed waves-button waves-effect", "data-toggle": "collapse", href: "#" + this.props.collapsibleId, onClick: this.handleShowMap}, 
							React.createElement("span", {className: "collapsed-hide"}, "Dölj"), 
							React.createElement("span", {className: "collapsed-show"}, this.props.pickText)
						), 	
						React.createElement("div", {className: "collapsible-region collapse", id: this.props.collapsibleId}, 
							map
						)								
					)
				)
			)
		);
	}
});
var startLatInput = $("#StartLatitude"), startLngInput = $("#StartLongitude"), endLatInput = $("#EndLatitude"), endLngInput = $("#EndLongitude");
React.render(React.createElement(LocationPicker, {latInput: startLatInput, lngInput: startLngInput, pickText: "Markera start på karta", collapsibleId: "collapsible-start"}), document.getElementById("start-location-picker"));

React.render(React.createElement(LocationPicker, {latInput: endLatInput, lngInput: endLngInput, pickText: "Markera målgång på karta", collapsibleId: "collapsible-end"}), document.getElementById("end-location-picker"));