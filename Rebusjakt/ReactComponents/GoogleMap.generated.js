// @hash v2-9DCD95967A969AD5E2AB1807FB64D6FA
// Automatically generated by ReactJS.NET. Do not edit, your changes will be overridden.
// Version: 1.5.2 (build 05eb7cc)
// Generated at: 2015-06-02 15:24:31
///////////////////////////////////////////////////////////////////////////////

    var GoogleMap = React.createClass({displayName: "GoogleMap",
        initMap : function(){
            var mapOptions = {
                zoom: 16,
                center: new google.maps.LatLng(this.props.lat,this.props.lng)
            };
            var map = new google.maps.Map(React.findDOMNode(this.refs.map),
                mapOptions);
			
			
			var latLng = new google.maps.LatLng(this.props.lat,this.props.lng);
			var marker = new google.maps.Marker({
                position: latLng,
                map: map                        
            });
			
			if(this.props.positions){
				var bounds = new google.maps.LatLngBounds();
				bounds.extend(latLng);
				this.props.positions.forEach(function(position){
					latLng = new google.maps.LatLng(position.lat,position.lng);
					var marker = new google.maps.Marker({
						position: latLng,
						map: map,
						title: position.name                       
					});
					bounds.extend(latLng);
				});
				map.fitBounds(bounds);
			}		
        },        
        componentDidMount: function(){
            this.initMap();
        },
        render: function () {
            return(
                    React.createElement("div", {className: "map-holder", ref: "map"})
                );
        }
    });